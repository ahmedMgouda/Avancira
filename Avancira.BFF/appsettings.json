{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.AspNetCore.Authentication": "Information",
      "Duende": "Information"
    }
  },
  "AllowedHosts": "*",

  "ConnectionStrings": {
    "Redis": ""
  },

  "Auth": {
    "Authority": "http://avancira-auth-container:8080",
    "ClientId": "bff-client",
    "ClientSecret": "dev-bff-secret",
    "RequireHttpsMetadata": false,
    "DefaultRedirectUrl": "https://www.avancira.com/",
    "ExternalIssuer": "https://auth.avancira.com"
  },

  "Cookie": {
    "Name": ".Avancira.Auth",
    "ExpirationHours": 8
  },

  "Cors": {
    "AllowedOrigins": [
      "https://localhost:4200",
      "http://localhost:4200",
      "https://www.avancira.com",
      "https://avancira.com"
    ]
  },

  "EssentialClaims": [ "sub", "sid" ],

  "ReverseProxy": {
    "Routes": {
      "api-route": {
        "ClusterId": "api-cluster",
        "Match": {
          "Path": "/bff/api/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff" }
        ]
      },
      "signalr-route": {
        "ClusterId": "api-cluster",
        "Match": {
          "Path": "/bff/notification/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff" }
        ]
      }
    },
    "Clusters": {
      "api-cluster": {
        "Destinations": {
          "primary": {
            "Address": "http://avancira-backend-container:8080"
          }
        },
        "HttpRequest": {
          "Timeout": "00:01:40"
        }
      }
    }
  }
}
