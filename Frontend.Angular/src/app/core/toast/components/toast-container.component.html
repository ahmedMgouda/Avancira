<div class="toast-container">
  @for (toast of toasts(); track toast.id) {
    <div 
      class="toast"
      [ngClass]="getToastClass(toast.type)"
      [@toastAnimation]
      role="alert"
      aria-live="polite"
      [attr.aria-label]="toast.message">
      
      <!-- Icon -->
      <div class="toast-icon">
        {{ toast.icon }}
      </div>

      <!-- Content -->
      <div class="toast-content">
        @if (toast.title) {
          <div class="toast-title">{{ toast.title }}</div>
        }
        <div class="toast-message">{{ toast.message }}</div>
        
        <!-- Action Button -->
        @if (toast.action) {
          <button 
            class="toast-action-btn"
            (click)="handleAction(toast.id, toast.action.action)"
            type="button">
            {{ toast.action.label }}
          </button>
        }
      </div>

      <!-- Dismiss Button -->
      @if (toast.dismissible) {
        <button 
          class="toast-close"
          (click)="dismiss(toast.id)"
          type="button"
          aria-label="Dismiss">
          Ã—
        </button>
      }

      <!-- Progress Bar -->
      @if (toast.duration && toast.duration > 0) {
        <div class="toast-progress">
          <div 
            class="toast-progress-bar"
            [style.animation-duration.ms]="toast.duration">
          </div>
        </div>
      }
    </div>
  }
</div>