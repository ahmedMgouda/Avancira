<div class="container">
  @if (error()) {
    <div class="alert alert-error">
      {{ error() }}
    </div>
  }

  @if (loading()) {
    <div class="loading">
      <div class="spinner"></div>
      <p>Loading category...</p>
    </div>
  }

  @if (!loading() && category()) {
    <div class="header">
      <div>
        <button class="btn btn-secondary btn-back" (click)="onBack()">
          ← Back
        </button>
        <h1>{{ category()!.name }}</h1>
      </div>
      <div class="header-actions">
        <button class="btn btn-primary" (click)="onEdit()">
          Edit Category
        </button>
        <button class="btn btn-danger" (click)="onDelete()">
          Delete
        </button>
      </div>
    </div>

    <div class="detail-card">
      <div class="detail-section">
        <h2>Basic Information</h2>

        <div class="detail-row">
          <span class="detail-label">ID:</span>
          <span class="detail-value">{{ category()!.id }}</span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Name:</span>
          <span class="detail-value">{{ category()!.name }}</span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Description:</span>
          <span class="detail-value">{{ category()!.description || '—' }}</span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Sort Order:</span>
          <span class="detail-value">{{ category()!.sortOrder }}</span>
        </div>
      </div>

      <div class="detail-section">
        <h2>Status & Visibility</h2>

        <div class="detail-row">
          <span class="detail-label">Active:</span>
          <span [class]="'badge ' + (category()!.isActive ? 'badge-success' : 'badge-danger')">
            {{ category()!.isActive ? 'Active' : 'Inactive' }}
          </span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Visible:</span>
          <span [class]="'badge ' + (category()!.isVisible ? 'badge-success' : 'badge-secondary')">
            {{ category()!.isVisible ? 'Visible' : 'Hidden' }}
          </span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Featured:</span>
          @if (category()!.isFeatured) {
            <span class="badge badge-warning">★ Featured</span>
          } @else {
            <span class="badge badge-secondary">Not Featured</span>
          }
        </div>
      </div>

      @if (category()!.createdAt || category()!.updatedAt) {
        <div class="detail-section">
          <h2>Timestamps</h2>

          @if (category()!.createdAt) {
            <div class="detail-row">
              <span class="detail-label">Created:</span>
              <span class="detail-value">{{ category()!.createdAt | date: 'medium' }}</span>
            </div>
          }

          @if (category()!.updatedAt) {
            <div class="detail-row">
              <span class="detail-label">Last Updated:</span>
              <span class="detail-value">{{ category()!.updatedAt | date: 'medium' }}</span>
            </div>
          }
        </div>
      }
    </div>
  }
</div>
