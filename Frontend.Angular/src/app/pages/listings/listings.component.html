<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card border-0">
                    <div class="card-header text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Listings</h5>
                        <button class="btn btn-light btn-sm fw-bold" (click)="openCreateListingModal()">
                            <i class="fas fa-plus"></i> Create Listing
                        </button>
                    </div>
                    <div class="card-body">
                        <app-table [data]="listings" [columns]="listingColumns" [actions]="listingActions" [page]="page"
                            [pageSize]="pageSize" [totalResults]="totalResults" [pageSizeOptions]="pageSizeOptions"
                            (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">
                        </app-table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Visibility Cell Template -->
    <ng-template #visibilityCell let-item let-value="value">
        <button class="btn btn-sm btn-outline-info d-flex align-items-center justify-content-center" (click)="toggleVisibility(item)">
            <i class="fas me-1" [ngClass]="{'fa-eye': value, 'fa-eye-slash': !value}"></i>
            <span>{{ value ? 'Visible' : 'Hidden' }}</span>
        </button>
    </ng-template>

    <!-- Modal for Create Listing -->
    <app-create-listing *ngIf="isCreateListingModalOpen" (onClose)="closeCreateListingModal()"></app-create-listing>

    <!-- Modal for Edit Listing -->
    <app-edit-listing *ngIf="isEditListingModalOpen" [listing]="selectedListing" [editingSection]="editingSection"
        (onClose)="closeEditListingModal()"></app-edit-listing>
</div>
